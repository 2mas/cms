<div id="queue-manager-utility">
    <div v-if="loading">
        <div class="center">
            <div class="spinner big"></div>
            <p>Loading</p>
        </div>
    </div>
    <div v-else>

        <div>
        <div class="right">
            <a class="btn submit" @click="retryAll">
                Retry all
            </a>

            <a class="btn submit" @click="releaseAll">
                Release all
            </a>
        </div>
        </div>

        <table class="data fullwidth collapsible" v-if="jobs && !activeJob">
            <thead>

            <tr>
                <th scope="col">Job</th>
                <th scope="col">Progress</th>
                <th scope="col">TTR</th>
                <th scope="col">Status</th>
            </tr>
            </thead>
            <tbody>
                <tr v-for="job in jobs">
                    <th><a>[[job.description]]</a></th>
                    <td><code>[[job.progress]]/ 100</code></td>
                    <td><code>[[job.ttr]]</code></td>
                    <td>
                        <div v-if="job.status == 1">Pending</div>
                        <div v-else-if="job.status == 2">Reserved</div>
                        <div v-else-if="job.status == 3">Done</div>
                        <div v-else-if="job.status == 4" class="error">Failed</div>
                    </td>
                    <td><a class="btn" @click="retryJob(job)">Retry</a> </td>
                    <td><a class="btn" @click="releaseJob(job)">Cancel</a> </td>
                    <td><a class="btn" @click="setActiveJob(job)">View details</a> </td>
                </tr>
            </tbody>
        </table>
        <div v-else-if="activeJob">
            asdasdsda
        </div>
        <div v-else>
            No open jobs
        </div>

    </div>
</div>
