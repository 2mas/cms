var header=document.querySelector("#header");header&&header.parentNode.removeChild(header);var search=window.location.search,parameters={};if(search.substr(1).split("&").forEach(function(e){var t=e.indexOf("=");0<=t&&(parameters[decodeURIComponent(e.slice(0,t))]=decodeURIComponent(e.slice(t+1)))}),parameters.variables)try{parameters.variables=JSON.stringify(JSON.parse(parameters.variables),null,2)}catch(e){}function onEditQuery(e){parameters.query=e,updateURL()}function onEditVariables(e){parameters.variables=e,updateURL()}function onEditOperationName(e){parameters.operationName=e,updateURL()}function updateURL(){var e="?"+Object.keys(parameters).filter(function(e){return Boolean(parameters[e])}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(parameters[e])}).join("&");history.replaceState(null,null,e)}var elem=React.createElement;function initGraphiQl(){function r(e){return fetch(getEndpoint(),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+selectedToken.token},body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.text()}).then(function(t){try{return JSON.parse(t)}catch(e){return t}})}function o(e){return elem(GraphiQL.MenuItem,{label:e.name,title:e.name,onSelect:function(){setToken(e.uid)}})}ReactDOM.render(elem(function(){var e,t=React.createElement(GraphiQL.Logo,{},"Explore the GraphQL API"),a=[];for(tokenName in gqlTokens){var n=gqlTokens[tokenName];tokenName!==selectedToken.name?a.push(elem(o,Object.assign({},{name:tokenName,uid:n}))):a.push(elem("li",{class:"selected-token"},tokenName))}return e=a.length?React.createElement(GraphiQL.Toolbar,{class:"menu"},elem(GraphiQL.Menu,{label:selectedToken.name,title:"Select a GraphQL token"},a)):React.createElement(GraphiQL.Toolbar,{},elem("div",{},"")),elem(GraphiQL,{fetcher:r,token:void 0,query:parameters.query,variables:parameters.variables,operationName:parameters.operationName,onEditQuery:onEditQuery,onEditVariables:onEditVariables,onEditOperationName:onEditOperationName},e,t)}),document.getElementById("graphiql"))}function setToken(e){var t=/tokenUid=[a-z0-9-]+/i;location.href.match(t)?location.href=location.href.replace(t,"tokenUid="+e):-1!==location.href.indexOf("?")?location.href+="&tokenUid="+e:location.href+="?tokenUid="+e}function getEndpoint(){return $("#graphiql").data("endpoint")}
//# sourceMappingURL=graphiql.min.js.map