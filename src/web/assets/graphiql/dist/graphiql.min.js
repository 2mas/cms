var header=document.querySelector("#header");header&&header.parentNode.removeChild(header);var search=window.location.search,parameters={};if(search.substr(1).split("&").forEach(function(e){var a=e.indexOf("=");0<=a&&(parameters[decodeURIComponent(e.slice(0,a))]=decodeURIComponent(e.slice(a+1)))}),parameters.variables)try{parameters.variables=JSON.stringify(JSON.parse(parameters.variables),null,2)}catch(e){}function onEditQuery(e){parameters.query=e,updateURL()}function onEditVariables(e){parameters.variables=e,updateURL()}function onEditOperationName(e){parameters.operationName=e,updateURL()}function updateURL(){var e="?"+Object.keys(parameters).filter(function(e){return Boolean(parameters[e])}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(parameters[e])}).join("&");history.replaceState(null,null,e)}var elem=React.createElement;function initGraphiQl(){function n(e){return fetch(getEndpoint(),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+selectedSchema.token},body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.text()}).then(function(a){try{return JSON.parse(a)}catch(e){return a}})}function i(e){return elem(GraphiQL.MenuItem,{label:e.name,title:e.name,onSelect:function(){setSchema(e.uid)}})}function o(e){var a=e.text;return elem("span",{id:"schema-info"},a)}ReactDOM.render(elem(function(){var e=React.createElement(GraphiQL.Logo,{},"Explore the GraphQL API"),a=[];for(schemaName in gqlSchemas){var t=gqlSchemas[schemaName];a.push(elem(i,Object.assign({},{name:schemaName,uid:t})))}var r=React.createElement(GraphiQL.Toolbar,{},elem(GraphiQL.Menu,{label:"Select schema",title:"Select the GraphQL schema to use"},a),elem(o,{text:"Using the “"+selectedSchema.name+"” schema"}));return elem(GraphiQL,{fetcher:n,schema:void 0,query:parameters.query,variables:parameters.variables,operationName:parameters.operationName,onEditQuery:onEditQuery,onEditVariables:onEditVariables,onEditOperationName:onEditOperationName},r,e)}),document.getElementById("graphiql"))}function setSchema(e){var a=/schemaUid=[a-z0-9-]+/i;location.href.match(a)?location.href=location.href.replace(a,"schemaUid="+e):-1!==location.href.indexOf("?")?location.href+="&schemaUid="+e:location.href+="?schemaUid="+e}function getEndpoint(){return $("#graphiql").data("endpoint")}
//# sourceMappingURL=graphiql.min.js.map